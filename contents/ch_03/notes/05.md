[Back to main](https://github.com/JoonHyeok-hozy-Kim/computer_systems_study#readme)

# 3.5 Arithmetic and Logical Operations
#### Concept) 4 groups of operations
1. [Load Effective Address(leal)](https://github.com/JoonHyeok-hozy-Kim/computer_systems_study/blob/main/contents/ch_03/notes/05.md#351-load-effective-address)
2. [Unary Operations](https://github.com/JoonHyeok-hozy-Kim/computer_systems_study/blob/main/contents/ch_03/notes/05.md#concept-unary-operations)
3. [Binary Operations](https://github.com/JoonHyeok-hozy-Kim/computer_systems_study/blob/main/contents/ch_03/notes/05.md#concept-binary-operations)
4. [Shift Operations](https://github.com/JoonHyeok-hozy-Kim/computer_systems_study/blob/main/contents/ch_03/notes/05.md#353-shift-operations)


<p align="left">
  <img src="https://github.com/JoonHyeok-hozy-Kim/computer_systems_study/blob/main/contents/ch_03/images/03_05_01_operations_notations.png" width="80%">
</p>
<br>

---

## 3.5.1 Load Effective Address
#### Concept) leal
* A variant of the *movl* instruction.
  * It read from memory to a register, but does NOT reference memory at all.
  * It copies the [effective address](https://github.com/JoonHyeok-hozy-Kim/computer_systems_study/blob/main/contents/ch_03/notes/04.md#concept-type-of-operands-3) to the destination (first operand)
    * i.e.) Load effective address.
* Syntax
  ```assembly
  leal 7(%edx, %edx, 4), %eax
  ```
  * Interpretation
    * Suppose %edx contains value x.
    * Then it means, set %eax to (5x + 7)
* Prop.)
  * Compilers often find clever uses of leal that have nothing to do with effective address computations.
  * The destination operand must be a register.

[:orange_book: Practice Problem 3.6](https://github.com/JoonHyeok-hozy-Kim/computer_systems_study/blob/main/contents/ch_03/problems/practice_problems.md#practice-problem-36)

---

## 3.5.2 Unary and Binary Operations
#### Concept) Unary Operations
* Prop.) It goes with a single operand serving as both source and destination
  * The operand can be either a register or a memory location.
* Ex. 1)
  ```assembly
  incl (%esp)
  ```
  * Interpretation : Make 4-byte element on the top of the stack (%esp) to be incremented.
  * Similar to C's increment(++) and decrement(--) operators.


#### Concept) Binary Operations
* Prop.) The second operand is used as both a source and a destination
  * The source operand is given first and the destination is the second.
    * First operand can be either an immediate value(register) or a memory location.
    * Second operand can be either an immediate value(register) or a memory location.
    * Two operands cannot be both memory locations.
  * Similar to C's assignment operations such as +=, -=, etc.
* Ex. 1)
  ```assembly
  subl %eax, %edx
  ```
  * Interpretation : Decrement register %edx by the value in %eax.
    * or, "Subtract %eax from %edx"

[:orange_book: Practice Problem 3.7](https://github.com/JoonHyeok-hozy-Kim/computer_systems_study/blob/main/contents/ch_03/problems/practice_problems.md#practice-problem-37)

---

## 3.5.3 Shift Operations
* Prop.) The shift amount is given first, and the value to shift is given second.
  * Both arithmetic and logical right shifts are possible.
  * The shift amount is encoded as a single byte, since only shift amounts between 0 and 31 are possible 
    * why?) Only the low-order 5 bits of the shift amount are considered.
  * The shift amount is given either as an immediate or in the single-byte register element %cl.
    * Note) Shift is unusual in that only allowing this specific register as operand.
  * The destination operand of a shift operation can be either a register or a memory location.
* Types
  * Left Shift
    * SAL : Fill from the right with zeros. (Identical to SHL)
    * SHL : Fill from the right with zeros. (Identical to SAL)
  * Right Shift
    * SAR : Perform the arithmetic shift (Fill the left with the copies of the sign bit)
    * SHR : Perform the logical shift (Fill the left with zeros)

[:orange_book: Practice Problem 3.8](https://github.com/JoonHyeok-hozy-Kim/computer_systems_study/blob/main/contents/ch_03/problems/practice_problems.md#practice-problem-38)

---

## 3.5.4 Discussions
![](https://github.com/JoonHyeok-hozy-Kim/computer_systems_study/blob/main/contents/ch_03/images/03_05_04_example.png)
* Props.)
  * The assembly code instructions occur in a different order than in the C source code.
  * In general, compilers generate code that uses individual registers for multiple program values and moves program values among the registers.

[:orange_book: Practice Problem 3.9](https://github.com/JoonHyeok-hozy-Kim/computer_systems_study/blob/main/contents/ch_03/problems/practice_problems.md#practice-problem-39)

[:orange_book: Practice Problem 3.10](https://github.com/JoonHyeok-hozy-Kim/computer_systems_study/blob/main/contents/ch_03/problems/practice_problems.md#practice-problem-310)







### KEYWORDS
* leal(load effect address); leal; unary operation; incl; decl; binary operation; add; sub; imul; shift operation; sal; shl; sar; shr;


[Back to main](https://github.com/JoonHyeok-hozy-Kim/computer_systems_study#readme)